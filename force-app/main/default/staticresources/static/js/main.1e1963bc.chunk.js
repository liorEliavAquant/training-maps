(this["webpackJsonpaquant-io-home-assignment"]=this["webpackJsonpaquant-io-home-assignment"]||[]).push([[0],{14:function(e,t,n){e.exports=n(27)},19:function(e,t,n){},20:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},21:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),i=(n(19),n(20),n(21),n(3)),s=n(41),u=n(8),l=n(12),m=function(e,t){if(!t||!t.marker||!t.action)return e;var n=e.markers;switch(t.action){case"add":n=[].concat(Object(l.a)(n),[t.marker]);break;case"remove":var a=n.findIndex((function(e){return e.location[0]===t.marker.location[0]&&e.location[1]===t.marker.location[0]}));n.splice(a,1),n=JSON.parse(JSON.stringify(n))}return Object(u.a)(Object(u.a)({},e),{},{markers:n})},f={markers:[]},p=Object(a.createContext)(f),d=function(e){var t=e.children,n=Object(a.useReducer)(m,f),c=Object(i.a)(n,2),o=c[0],s=c[1];return r.a.createElement(p.Provider,{value:{markers:o.markers,editMarkers:function(e){s(e)}}},t)},k=function(e){var t=e.className,n=Object(a.useContext)(p),c=Object(a.useState)(null),o=Object(i.a)(c,2),u=o[0],l=o[1],m=Object(a.useState)(null),f=Object(i.a)(m,2),d=f[0],k=f[1],b=function(e){return function(){n.editMarkers({marker:e,action:"remove"})}};return r.a.createElement("div",{className:t},r.a.createElement("h2",null,"Add a marker to the map"),r.a.createElement("form",{className:""},r.a.createElement("input",{placeholder:"Lat",min:"-90",max:"90",type:"number",name:"lat",onChange:function(e){return l(e.target.value)}}),r.a.createElement("input",{placeholder:"Long",min:"-180",max:"180",type:"number",name:"long",onChange:function(e){return k(e.target.value)}}),r.a.createElement(s.a,{className:"add-btn",onClick:function(){if(!d||!u||!function(e){return e<=90&&e>=-90}(u)||!function(e){return e<=180&&e>=-180}(d))return alert("please insert a valid location");n.editMarkers({marker:{location:[u,d]},action:"add"})}},"Add Marker")),r.a.createElement("ul",null,n.markers.map((function(e,t){return r.a.createElement("li",{className:"marker-item",key:t},r.a.createElement("div",null,"Long:"+e.location[0]+", Lat:"+e.location[1]),r.a.createElement(s.a,{onClick:b(e)},"Delete"))}))))},b=n(7),g=n.n(b),h=n(11),v="AqePFAStZ3Lh5wkPuWnoLbUcCHBTaEvjeFUhIwYum0dWLaylHeYT8NDkEBwZthpN",E=function(e){e.className;var t=Object(a.useState)(null),n=Object(i.a)(t,2),c=n[0],o=n[1],s=Object(a.useState)(null),u=Object(i.a)(s,2),l=u[0],m=u[1],f=Object(a.useContext)(p),d=[],k=function(){var e=Object(h.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"bingAPIReady",n="https://www.bing.com/api/maps/mapcontrol?callback=".concat("bingAPIReady","&key=").concat(t),e.abrupt("return",new Promise((function(e,t){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.defer=!0,a.src=n,window.bingAPIReady=function(){m(window.Microsoft),o(window.Microsoft.Maps.Map("#".concat("bingMap"),{zoom:3}))},a.onerror=function(e){t(e)},document.body.appendChild(a)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){k(v)}),[]);return Object(a.useEffect)((function(){f&&Array.isArray(f.markers)&&c&&(!function(){for(var e=c.entities.getLength()-1;e>=0;e--){c.entities.get(e)instanceof l.Maps.Pushpin&&c.entities.removeAt(e)}}(),function(){for(var e=c.entities.getLength()-1;e>=0;e--){c.entities.get(e)instanceof l.Maps.Polygon&&c.entities.removeAt(e)}}(),f.markers.forEach((function(e){-1===d.indexOf(e)&&(d.push(e),c.entities.push(function(e){var t=new l.Maps.Location(e.location[0],e.location[1]);return new l.Maps.Pushpin(t,{color:"green"})}(e)),d.length>1&&c.entities.push(function(){var e=d.map((function(e){return new l.Maps.Location(e.location[0],e.location[1])}));return e.push(new l.Maps.Location(d[0].location[0],d[0].location[1])),new l.Maps.Polygon(e,{fillColor:"rgba(69, 91, 128, 0.5)",strokeColor:"darkgrey",strokeThickness:2})}()))})))}),[f.markers]),r.a.createElement("div",{id:"bingMap"})};var w=function(){return r.a.createElement(d,null,r.a.createElement("div",{className:"main"},r.a.createElement(k,{className:"markers-form"}),r.a.createElement(E,{className:"map"})))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.1e1963bc.chunk.js.map